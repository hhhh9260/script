
/**
 * @fileoverview Template to compose HTTP reqeuest.
 * 
 */

const url = `https://api.m.jd.com/client.action?functionId=msgEntranceV710`;
const method = `POST`;
const headers = {
'J-E-H' : `%7B%22ciphertype%22:5,%22cipher%22:%7B%22J-E-H%22:%22IuG0aVLeb25vBzO2Dzq1CyUyCMrfUQrlbwU7TJSmaU9JTJSmCJGkDtivCtLJY2PiZI8yBtKmAG==%22%7D,%22ts%22:1638870679,%22hdid%22:%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw=%22,%22version%22:%221.0.3%22,%22appname%22:%22com.360buy.jdmobile%22,%22ridx%22:-1%7D`,
'Connection' : `keep-alive`,
'Accept-Encoding' : `gzip, deflate, br`,
'Content-Type' : `application/x-www-form-urlencoded`,
'User-Agent' : `JD4iPhone/167853%20(iPhone;%20iOS;%20Scale/2.00)`,
'Cookie' : `wskey=AAJhe13WAEAPA350UbQak7ct-envtW3exXlbd6Y47QcU2WapFNLpT3_ikRrCMCnrh54_aB2LptmB-GkcbIavA9EaLDBBIta2;whwswswws=JD0111d47dZc4HUrw6R0163887192634004zFzJri_DpBDctoeaCkYwOs5NyEgxQczdhdbANh0glJf930cZgPzpEHOV5xstg2W61e9fxw7~iyMP76HxJOuvwbVWUwHGPoCdRJGgZcSAtyE056OMDUjiyM+M99t/cDhqShUzs+h3W2u22cc/16YkAFskrx62FZA==;unionwsws={"jmafinger":"JD0111d47dZc4HUrw6R0163887192634004zFzJri_DpBDctoeaCkYwOs5NyEgxQczdhdbANh0glJf930cZgPzpEHOV5xstg2W61e9fxw7~iyMP76HxJOuvwbVWUwHGPoCdRJGgZcSAtyE056OMDUjiyM+M99t\/cDhqShUzs+h3W2u22cc\/16YkAFskrx62FZA==","devicefinger":"eidIb8ff8121e3s1\/SI+2OwYSoOGi2E7ktpkNP0iQEj3fl4zQyF9cetZgi+E3DSVvXP1p2tIUI+tCyPkY+1pHMwOQufnmJJdcqVYRsTfc7q\/PJpe1J5i"};pin_hash=642989579`,
'Host' : `api.m.jd.com`,
'Referer' : ``,
'J-E-C' : `%7B%22ciphertype%22:5,%22cipher%22:%7B%22pin%22:%22awHpDwZrEQGmC2PrCWPwZq==%22%7D,%22ts%22:1638871985,%22hdid%22:%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw=%22,%22version%22:%221.0.3%22,%22appname%22:%22com.360buy.jdmobile%22,%22ridx%22:-1%7D`,
'Accept-Language' : `zh-Hans-FR;q=1, ga-IE;q=0.9, en-FR;q=0.8, zh-Hant-FR;q=0.7`,
'Accept' : `*/*`
};
const body = `appid=MessageCenter&body=%7B%22flush%22%3A%220%22%7D&build=167853&client=apple&clientVersion=10.2.0&d_brand=apple&d_model=iPhone11%2C8&ef=1&eid=eidIb8ff8121e3s1/SI%2B2OwYSoOGi2E7ktpkNP0iQEj3fl4zQyF9cetZgi%2BE3DSVvXP1p2tIUI%2BtCyPkY%2B1pHMwOQufnmJJdcqVYRsTfc7q/PJpe1J5i&ep=%7B%22ciphertype%22%3A5%2C%22cipher%22%3A%7B%22screen%22%3A%22ENS4AtO3EJS%3D%22%2C%22osVersion%22%3A%22CJGkDq%3D%3D%22%2C%22openudid%22%3A%22DNUyDJTwCJG3YJGnCtZrY2O3ZQVsZQY2EJO4YwOnDJdsCzS2CNdvYm%3D%3D%22%2C%22area%22%3A%22EP81ENHpCzS2EP81DJK1Dq%3D%3D%22%2C%22uuid%22%3A%22aQf1ZRdxb2r4ovZ1EJZhcxYlVNZSZz09%22%7D%2C%22ts%22%3A1638870679%2C%22hdid%22%3A%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw%3D%22%2C%22version%22%3A%221.0.3%22%2C%22appname%22%3A%22com.360buy.jdmobile%22%2C%22ridx%22%3A-1%7D&ext=%7B%22prstate%22%3A%220%22%7D&isBackground=N&joycious=93&lang=zh_CN&networkType=wifi&networklibtype=JDNetworkBaseAF&partner=apple&rfs=0000&scope=10&sign=cab04af75872a3e4541f25edb37468ccaab722712b7f3037cea3d2f71af9b7b0&t=1638871985251&uemps=0-0&uts=0f31TVRjBSsgnni2xMA2f75t/6ngHUaeUN1onaOYTPakFTN7O8/C0qi50TQr3atMs8fdMZfJoUs8w5Yq0rAQTFretemdKT77FyaWJCGF4cZZdBHa5bPaYN2Csh96zJORW5ZH7t%2BfFI8UQ%2BCA9BNzD2OM4Btvm8E3FqzxRGJKTrzI2L9tb4u0D7QW/KrnwVEPTB9vVlpGfxX9O8%2Bn5WiqXQ%3D%3D`;

const myRequest = {
    url: url,
    method: method,
    headers: headers,
    body: body
};

$task.fetch(myRequest).then(response => {
    console.log(response.statusCode + "\n\n" + response.body);
    $done();
}, reason => {
    console.log(reason.error);
    $done();
});
