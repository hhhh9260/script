
/**
 * @fileoverview Template to compose HTTP reqeuest.
 * 
 */

const url = `https://api.m.jd.com/client.action?functionId=noahRedRainLottery&client=wh5&clientVersion=1.0.0&body=%7B%22actId%22%3A%22RRA3mYmDhvzgxdpAJuscqHt32VNDqCM%22%7D&_=1639638431822&callback=jsonp2`;
const method = `GET`;
const headers = {
'Cookie' : `__jd_ref_cls=MRPRain_LotteryVirtual; mba_muid=52c84ab042316a751d0e74689f99c356; mba_sid=16396383970952822154834342151.3; CCC_SE=ADC_N%2fJzwjmu5vxG8tl3p%2bbbP%2frnEAZOwTpJ1qjCtoMZWNSIhGR6CZRTJhO8KhgkPcK8uOl1C8Jnto5UuSzxiC9j8DQKh4oriiUHgR0hqTlHzOpaNmyHlo5tjLzpoivegyvbOgMv4yvJv5B1xLHLMezCv4e9Tw7OpZcw33Tm3OGS7FR8xYzpohSrGk70JnJQLlpJzdKCP%2fAwYp90vgg4g4Ta%2bLnKmHzmx69HWMH16W9L6ANpQWeQbDyrc6rNDwubDW%2bSQact6cHKRmaomjXw%2fBjTS2gEvgVwrnBg1T9iyZDgAyPvL7f7Ip5m2ENVcETaX3BBu9XFrcYrfflQU4w14xCrvCqiaohnF9Q6RwKgQudjLLtKjWsbQOaj1cOecjI8lNfcxSFXEwbjIdBRV4ZOGXEE2nJwbwLCkf9F92ml52plJcjnjibAOPulXK0Rr3Kn8Xt346QTrhGEANDWMup7UW%2fOHBlDSZ5fLcwwyyngy3XoewRybh1dy61JsW3Bp%2fp9VHgzCXh%2bePx8%2f3kxHy74uPU0069YLN3R69e6ImofW0toPNk%3d; __jda=153791336.5817127d69463c4a7f302e1751b99146.1639453102.1639635685.1639638397.17; __jdb=153791336.3.5817127d69463c4a7f302e1751b99146|17.1639638397; __jdc=153791336; __jdv=153791336%7Ckong%7Ct_1002070633_%7Cjingfen%7Cd8450090c39a48a6a36e5073c1f1b078%7C1639638418330; unpl=V2_ZzNtbRdeRhF0CU5VKRtUVWIKQloSVURBcQlAVikZCwU0AhRUclRCFnUURldnGVsUZwcZXEVcRxxFCEZkexhdBmYFE1pAVXMldQlHVXsdWwdgBSJeQmdCJXEBRlJ7GlpQYAsXWkAFRkVzX0RVeE1cA2MDQVVKV0YSRThGXHwpbDVmMxNtQFZCF3wKQFZ5HWxOCQJfWUtXRRV2DhNTcxxbBzUGQlsVVUIWIQhAUHtKVA1nBhVtQ2dA; RRA3mYmDhvzgxdpAJuscqHt32VNDqCMGamec=false; RRA3DTEaEEhpMCpHReXTZcWn7ejYbAVGamec=false; PPRD_P=LOGID.1639572196754.259987832-EA.17005.42.107-CT.138570.1.1-UUID.5817127d69463c4a7f302e1751b99146; __wga=1639635675222.1639635612623.1639629666235.1638373090633.4.122; cid=1; jxsid_s_t=1639635675269; jxsid_s_u=https%3A//wqs.jd.com/sns/202109/22/fansactiveall/index.html; retina=1; shshshfp=5094afc836c57595cdef3aef8872c7ce; shshshfpa=cd16f5e0-74b0-6d97-d75f-cf0fe3aa4b28-1636678845; shshshfpb=jx5xIvBcZIPSJENeLWwz7sQ%3D%3D; wq_area=8_560_0%7C2; wqmnx1=MDEyNjM4Ny9jMjJ0aW1TPTYzNE85NzFPPTI2Njg0YVBQZTZhIGIuSGspL01zLjggL3VDcmQyNE9JSEg%3D; wxa_level=1; sc_width=414; TrackerID=dxlouA6Y_ydgE1PveOjRGNx6C3E1n2dO7fEBBVMcTai0p4L0vgS8f0L_FWsCaKJCtWUOqez2k97N0UH-TdWz14P5n9V4BywPe0k_TSbtq52ggS_Oo2lS8pRoDiIcgc2gcKNgfwiZH3CLdMZZWlae9Q; pt_key=AAJhusNQADCJDbJQ6vh_0RP627m9CYR6g2L3qYUlmBQAZQv-RkEg8XbfaeDZ09YJj5i-V_ZR2KU; pt_pin=jd_6fa8d03aa1aff; sfstoken=tk01m90241b22a8sMngyKzI4NGZOCC8L9MCWyDaT/APovD0uQ7Jari3umFSQkWc8pV0W4wQ/2lxUeWE9JGa81YHB7Wdl; jxsid=16395772049177050901; mcossmd=6e545e3048af3861e7df75c3e76db30c; visitkey=66140171608351638373090045; wq_addr=4551928385%7C1_72_2819_0%7C%u5317%u4EAC_%u671D%u9633%u533A_%u4E09%u73AF%u5230%u56DB%u73AF%u4E4B%u95F4%7C%u5317%u4EAC%u671D%u9633%u533A%u4E09%u73AF%u5230%u56DB%u73AF%u4E4B%u95F4%7C116.444%2C39.9219; wxapp_openid=oA1P50If19D3WI7gSOE4Z83geOPQ; wxapp_uuid=16383730905541392053897; wxapp_version=7.12.20; deviceName=WeiXin; deviceOS=ios; deviceOSVersion=14.6; deviceVersion=8.0.0%280x18000022%29; equipmentId=XQDCRNMCZPGE7JVIVKRJNOPJGLK6RHTZ7SX75TXHYDVK5PJY4BWZAAET2M7H5XHFRBVZ4WGLELMI4MLEDVSULMRZF4; fingerprint=fbd03d9e8609cebc526e2fe6eb46b018; warehistory="10036100394433,10027126930885,100009013033,23893726901,69658725996,100013875646,28977941641,100023829844,100011449373,100025830228,100010807249,59854327300,26364696578,"; sk_history=10027126930885%2C; webp=1; jdpin=jd_6fa8d03aa1aff; open_id=oTGnpnHWZuFZOblwuYQ_23FEBXHs; pin=jd_6fa8d03aa1aff; wq_skey=za70A5D8ED07F1B9DDFE26F5EAE412ADD0BAAE8F2158FD7E455F238D37142ABDD010724BF400CB006494AFF22E7FCF9CB7891721E2B80DBFE1F04EC4F13D3384AEFEA697D458FA2338B298EBC887396107; wq_uin=5144379528; wx_nickname=Charlie9260`,
'Accept' : `*/*`,
'Connection' : `keep-alive`,
'Referer' : `https://h5.m.jd.com/active/redrain/index.html?id=RRA3mYmDhvzgxdpAJuscqHt32VNDqCM&open=true&cu=true&utm_source=kong&utm_medium=jingfen&utm_campaign=t_1002070633_&utm_term=d8450090c39a48a6a36e5073c1f1b078`,
'Accept-Encoding' : `gzip, deflate, br`,
'Host' : `api.m.jd.com`,
'User-Agent' : `Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/8.0.0(0x18000022) NetType/WIFI Language/zh_CN`,
'Accept-Language' : `zh-cn`
};
const body = ``;

const myRequest = {
    url: url,
    method: method,
    headers: headers,
    body: body
};

$task.fetch(myRequest).then(response => {
    console.log(response.statusCode + "\n\n" + response.body);
    $done();
}, reason => {
    console.log(reason.error);
    $done();
});
